---
title: "Image Shortcode Basics"
---

Render a responsive image with Baseline’s `image` shortcode (eleventy-img). You’ll add a source image, call the shortcode with alt/caption, see generated formats, and verify output in `/dist/media/`. Uses npm, Node 20.15.0+, and the same Baseline setup as earlier tutorials.

## What you’ll build
- A page that renders a `<picture>` with avif/webp/fallback sources.
- Generated images emitted to `/dist/media/` with multiple widths.

## Prerequisites
- Baseline installed and loaded.
- Install the peer dependency:
  ```bash
  npm install @11ty/eleventy-img
  ```
- `package.json` with `"type": "module"` and scripts (`dev`, `build`) as in earlier tutorials.

## 1) Add a sample image
Place an image at `src/media/example.jpg`. JPEG/PNG are fine.

## 2) Use the shortcode in a page
Create `src/content/pages/image-demo.md`:
```md
---
title: "Image Demo"
description: "Responsive image via Baseline shortcode"
permalink: "/image-demo/"
layout: "layouts/base.njk"
---

# Image shortcode demo

{% raw %}{% image {
  src: "./src/media/example.jpg",
  alt: "A descriptive alt text for accessibility",
  caption: "Example image rendered responsively"
} %}{% endraw %}
```

Defaults (from the shortcode):
- Widths: `[150, 300, 768, 1024, "auto"]`
- Formats: `["avif", "webp", "auto"]` (auto = original format)
- Output: `./dist/media/`, URL: `/media/`
- `loading: "lazy"`, `decoding` auto-set, and a `<figure>` if `caption` is provided.

## 3) Optional tweaks
- Control sizes: `sizes: "(max-width: 768px) 100vw, 768px"`
- Change widths/formats: `widths: [320, 640, 1280]`, `formats: ["avif", "webp", "jpeg"]`
- Classes: `containerClass`, `imageClass`
- Eager load: `loading: "eager"` (decoding switches to `sync`)
- Common options (cheat sheet):
  - `src` (required), `alt` (recommended), `caption` (optional)
  - `widths` (array of numbers + optional `"auto"`), `formats` (e.g., `["avif","webp","auto"]`)
  - `sizes` (string), `loading` (`"lazy"`/`"eager"`), `containerClass`, `imageClass`
  - Outputs go to `/dist/media/` with URLs under `/media/`

## 7) Optional: use the Image Transform plugin
If you prefer not to call the shortcode, you can add Eleventy’s Image Transform plugin to process all `<img>`/`<picture>` tags automatically. See the [official Image plugin docs](https://www.11ty.dev/docs/plugins/image/) for configuration and trade-offs (e.g., transforms every image it finds, rather than opt-in shortcode usage).

## 4) Run and verify
```bash
npm run dev
```
- Open `/image-demo/` and inspect the `<picture>` and `<source>` tags.
- Check `/dist/media/` for generated variants (named like `example-768w.avif`, etc.).

## 5) Production build
```bash
npm run build
```
- Recheck `/dist/media/` and the rendered HTML in `dist/image-demo/index.html`.

## 6) Notes
- Keep `alt` meaningful; captions are optional.
- Use reasonably sized originals; very large inputs generate large outputs.
- For social/OG tags, set absolute image URLs (combine with your `site.url` in `_data/site.js`); canonicals already use `site.url`.

