---
title: "assets-core"
---

> Note: The options API is still evolving; expect tweaks as the project grows.

## What it does
- Creates a virtual `assets` directory in Eleventy (configurable).
- Exposes `assetUrl` as both filter and shortcode for building URLs to assets.
- Adds an `assets` collection listing files under the assets dir.
- Exposes global data: `_baseline.assetsDir` and `_baseline.assetsDirRelative`.
- Optionally passthrough-copies the assets directory.

### Defaults
- Assets live under `src/assets/` (via Eleventy dir settings).
- Virtual dir key: `assets`.
- Patterns scanned: `**/*` (all files).
- Passthrough: off by default.
- Passthrough output: `/assets/`.
- Respects Baseline `verbose` flag for logging.

### Options (when adding the plugin)
- `dirKey` (string): directory key to use in Eleventy dirs (default: `"assets"`).
- `patterns` (array of globs): relative to assets dir (default: `["**/*"]`).
- `passthrough` (boolean): enable passthrough copy (default: `false`).
- `passthroughOutput` (string): destination for passthrough (default: `"assets"`).
- `verbose` (boolean): extra logging (defaults to global Baseline `verbose`).

### How it works
- On `eleventy.directories`, resolves input/output/assets paths and defines `directories[dirKey]`.
- Registers `assetUrl` filter/shortcode to build URLs (honors `passthroughOutput`).
- Registers `assets` collection via fast-glob over the assets dir.
- Adds watch targets matching the configured patterns.
- If `passthrough` is true, wires a directory passthrough before build.

### Tips
- Keep assets in `src/assets/` to match the defaults (or override with `dirKey`).
- Pair with the PostCSS/esbuild modules for processing `src/assets/css/index.css` and `src/assets/js/index.js`.
- If you enable passthrough, `assetUrl` will point to the passthrough output (default `/assets/`).

