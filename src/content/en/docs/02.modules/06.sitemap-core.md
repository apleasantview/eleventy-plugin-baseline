---
title: "sitemap-core"
---

{% alertBlock "warning" %}
Note: The options API is still evolving; expect tweaks as the project grows.
{% endalertBlock %}

## What it does
- Generates a sitemap at `/sitemap.xml` via a virtual template (enabled by default).
- Adds `eleventyComputed.page.sitemap` with defaults so you can control per-page inclusion.

## Defaults
- Template enabled: yes (`/sitemap.xml`).
- `page.sitemap` defaults: `{ ignore: site.noindex ?? false, changefreq: "", priority: -1 }`.
- Excludes pages if `site.noindex` is true, or if `eleventyExcludeFromCollections` is set, or if `page.sitemap.ignore` is true.
- `lastmod` uses `page.data.sitemap.lastmod` or `item.date` if present, formatted via the `date.toUTCISO` global.
- `layout: null` for the sitemap template; excluded from collections.

## Options
- `enableSitemapTemplate` (boolean): toggle the built-in sitemap template (default: `true`).

## How it works
- Registers `eleventyComputed.page.sitemap` to give every page sitemap defaults.
- If enabled, registers a virtual template at `/sitemap.xml` that loops over `collections.all`, filters out excluded items, and emits a `<urlset>` with `loc`, optional `changefreq`, and optional `priority`.

## Tips
- Set `site.noindex = true` to suppress the sitemap entirely.
- On a page, set `sitemap: { ignore: true }` to skip it, or set `changefreq`/`priority` to include those fields.
- Provide `sitemap.lastmod` (a date) to emit `<lastmod>`; otherwise `item.date` is used when available.
