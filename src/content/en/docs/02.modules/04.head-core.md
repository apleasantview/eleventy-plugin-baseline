---
title: "head-core"
---

> Note: The options API is still evolving; expect tweaks as the project grows.

## What it does
- Injects head elements via PostHTML using a `<baseline-head>` tag.
- Builds head data from site/page/front matter and `_data/head.js`.
- Handles canonical, robots, OG/Twitter shells, link/script/hreflang, and optional structured data.
- Adds `eleventyComputed.page.head` to supply merged head data per page.

### Defaults
- Head tag: `<baseline-head>`.
- User data key: `head` (via `dirKey` default).
- EOL: `\n`.
- Verbose follows Baseline `verbose` (or per-module option).

### Options
- `dirKey` (string): key to read user head data from (default: `"head"`).
- `headElementsTag` (string): tag to replace (default: `"baseline-head"`).
- `EOL` (string): end-of-line to use in injected head (default: `\n`).
- `verbose` (boolean): extra logging (defaults to Baseline `verbose`).

### How it works
- Listens to `eleventy.contentMap` to cache inputPath↔url maps (for canonical).
- Adds `eleventyComputed.page.head`, which calls `defaultHead` merging site/user/page data.
- Adds a PostHTML plugin to transform `<baseline-head>` into actual head elements based on the computed spec.
- Flattens OG/Twitter/meta/link/script/hreflang, dedupes meta, and injects canonical if available.

### Tips
- Set global defaults in `_data/head.js`; override per page with `head:` in front matter.
- Provide `canonical`, `description`, and social image at page level when you have them; otherwise defaults apply.
- Hreflang/structured data are available via `head.hreflang` and `head.structuredData`—you can populate these in your data cascade.

