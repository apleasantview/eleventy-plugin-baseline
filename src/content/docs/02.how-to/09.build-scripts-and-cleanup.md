---
title: "Baseline Build Scripts and Cleanup"
slug: "build-scripts-and-cleanup"
description: "Use npm-run-all, rimraf, and cross-env to keep Baseline builds clean and predictable for dev and production."
---

Set up clean dev/build scripts using `npm-run-all`, `rimraf`, and `cross-env` so your Baseline builds are predictable across platforms.

## Prerequisites
- Baseline installed; `package.json` is ESM (`"type": "module"`).
- Install dev dependencies: `npm install rimraf npm-run-all cross-env`.

## Steps

<div class="c-docs-steps">

1. Install helper packages:

   ```bash
   npm install rimraf npm-run-all cross-env
   ```

2. Add scripts to `package.json`.

   Ensure these are present:
   ```json
   {
     "scripts": {
       "start": "npm-run-all clean dev",
       "clean": "rimraf dist/",
       "dev": "npx @11ty/eleventy --serve",
       "build:eleventy": "cross-env ELEVENTY_ENV=production npx @11ty/eleventy",
       "build": "npm-run-all clean build:*",
       "dryrun": "npx @11ty/eleventy --dryrun"
     }
   }
   ```

3. Run local dev with clean output:

   ```bash
   npm run start
   ```
   - Runs `clean` (removes `dist/`), then `dev` server.

4. Run production build:

   ```bash
   npm run build
   ```
   - Runs `clean`, then `build:eleventy` with `ELEVENTY_ENV=production`.

5. Optional: dry run:

   ```bash
   npm run dryrun
   ```
   - Inspect what would be built without writing files.

</div>

## Notes
- `rimraf dist/` keeps output clean across platforms; adjust the path if you change `dir.output`.
- `npm-run-all` sequences clean → dev/build; keep `clean` first so stale artifacts don’t leak into builds.
- `cross-env` sets `ELEVENTY_ENV=production` portably.
